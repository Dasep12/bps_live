
<div class="modal animated fadeIn" id="calendarTimeModal" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="false">
    <div class="modal-dialog modal-sm modal-dialog-centered modal-primary" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title"><span class="fa fa-calendar"></span> Browse Calendar & Time</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="control-label">Select Date :</label>
                    <div class="input-group">
                        <input type="text" name="datetimerange" class="form-control text-center" value="" />
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="icon-calendar"></i></span>
                        </div>
                    </div>
                    <div class="form-row">
                        <label for="crud-datetimepickerStart" class="col-form-label">Select Time :</label>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6 mr-0 pr-1">
                                    <div class="input-group date" id="datetimepickerStart" data-date-format="HH:mm" data-date-useseconds="false" data-date-pickDate="false" data-target-input="nearest">
                                        <input type="text" id="StartTime" class="form-control datetimepicker-input" data-target="#datetimepickerStart" required />
                                        <div class="input-group-append" data-target="#datetimepickerStart" data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 ml-0 pl-1">
                                    <div class="input-group date" id="datetimepickerEnd" data-date-format="HH:mm" data-date-useseconds="false" data-date-pickDate="false" data-target-input="nearest">
                                        <input type="text" id="EndTime" class="form-control bg-white datetimepicker-input" data-target="#datetimepickerEnd" required />
                                        <div class="input-group-append" data-target="#datetimepickerEnd" data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="TimeRangeId" />
                </div>
                <input type="hidden" id="DateRangeId" />
                <script>

                    var StartDate = new Date();
                    var EndDate = new Date();
                    var DateTimeRange = moment(StartDate).format('M/D/Y') + ' - ' + moment(EndDate).format('M/D/Y');

                    $('input[name="datetimerange"]').val(DateTimeRange);

                    $(function () {
                        $('input[name="datetimerange"]').daterangepicker({
                            opens: 'center'
                        }, function (start, end, label) {
                            StartDate = start.format('YYYY-MM-DD');
                            EndDate = end.format('YYYY-MM-DD');
                        });
                    });
                    $(function () {
                        $('#datetimepickerStart').datetimepicker({
                            autoclose: true,
                            defaultDate: "1/1/2023 07:15",
                            format: 'HH:mm'
                        });
                        $('#datetimepickerEnd').datetimepicker({
                            autoclose: true,
                            defaultDate: "1/1/2023 04:30",
                            format: 'HH:mm'
                        });
                    });
                    function applyDateTimeRange() {

                        var StartTime = $("#StartTime").val();
                        var EndTime = $("#EndTime").val();

                        DateTimeRange = moment(StartDate).format('YYYY-MM-DD') + " " + StartTime + " - " + moment(EndDate).format('YYYY-MM-DD') + " " + EndTime;
                        
                        
                        filterResult = DateTimeRange;
                        $('#calendarTimeModal').modal('hide');
                    }

                    function showfilterCalendarTime() {
                        $('#calendarTimeModal').modal('show');
                    }

                </script>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-primary" dismiss="modal" onclick="applyDateTimeRange();"><span class="fa fa-dot-circle-o"></span> Submit</button>
                <button type="button" class="btn btn-sm btn-danger" data-dismiss="modal"><span class="fa fa-times"></span> Cancel</button>
            </div>
        </div>
    </div>
</div>